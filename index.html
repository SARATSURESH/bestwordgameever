<!DOCTYPE html>
<html>
  <head>
    <title>Word Guessing Game</title>
    <style>
      body {
        font-family: Arial, sans-serif;
      }
  h1 {
    font-size: 3rem;
    margin-bottom: 1.5rem;
  }

  p {
    font-size: 1.5rem;
    line-height: 2.5rem;
    margin-bottom: 1.5rem;
  }

  form {
    margin-bottom: 1.5rem;
  }

  input[type="text"] {
    width: 100%;
    height: 4rem;
    font-size: 2rem;
    padding: 1rem;
    border-radius: 0.5rem;
    border: 2px solid #ccc;
    box-sizing: border-box;
    margin-bottom: 1.5rem;
  }

  input[type="button"] {
    background-color: #e9e9e9;
    color: #333;
    font-size: 2rem;
    padding: 1rem 2rem;
    border-radius: 0.5rem;
    border: none;
    cursor: pointer;
  }

  input[type="button"]:hover {
    background-color: #ddd;
  }

  #output {
    font-size: 2rem;
    margin-bottom: 1.5rem;
  }

  #guesslist {
    font-size: 2rem;
    line-height: 2.5rem;
    margin-bottom: 1.5rem;
  }

  .C {
    color: green;
    font-weight: bold;
  }

  .I {
    color: yellow;
    font-weight: bold;
  }
</style>

  </head>
  <body onload="startGame()">
    <h1>Word Guessing Game</h1>
    <p>Guess the 5-letter word. C indicates the number of correct letters in your guess and I indicates the wrong ones. Letters do not repeat in the word</p>
    <form>
      <input type="text" id="guess" name="guess" maxlength="5" title="Guess the 5-letter word" autocomplete="off">
      <input type="button" value="Guess" onclick="checkGuess()">
    </form>
    <p>Turns left: <span id="guesses"></span></p>
    <p id="output"></p>
    <p>Guesses:</p>
    <p id="guesslist"></p>    
    <script>
      //declare variables
      let word;
      let guesses;
      let output;
      let guesslist;
      let num1;
      let num2;
        //function to start the game
  function startGame(){
    //set up the game
    fetch('https://raw.githubusercontent.com/SARATSURESH/bestwordgameever/main/list.txt')
    .then(response => response.text())
    .then(data => {
      const words = data.split('\n');
      word = words[Math.floor(Math.random() * words.length)].trim();
      guesses = 8;
      output = "";
      guesslist = "";
      num1 = 0;
      num2 = 0;
    
      //display the game
      document.getElementById("guesses").innerHTML = guesses;
      document.getElementById("output").innerHTML = output;
      document.getElementById("guesslist").innerHTML = guesslist;
    });
  }

  //function to check the guess
// function to check the guess
function checkGuess() {
  // get the guess from the input
  let guess = document.getElementById("guess").value.toLowerCase();
  let targetWord = word.toLowerCase();

  // check if the guess is correct
  if (guess === targetWord) {
    output = "You Win!";
  } else {
    // check how many characters are correct
    num1 = 0;
    num2 = 0;
    let usedIndexes = new Set();
    for (let i = 0; i < guess.length; i++) {
      if (guess[i] === targetWord[i]) {
        num1++;
        usedIndexes.add(i);
      }
    }

    for (let i = 0; i < guess.length; i++) {
      if (usedIndexes.has(i)) continue;
      let matchIndex = targetWord.indexOf(guess[i]);
      if (matchIndex !== -1 && !usedIndexes.has(matchIndex)) {
        num2++;
        usedIndexes.add(matchIndex);
      }
    }

    // update the output
    let outputArr = Array.from({ length: 5 }, (_, i) => {
      if (guess[i] === targetWord[i]) {
        return `<span class="correct">${guess[i]}</span>`;
      } else if (usedIndexes.has(i)) {
        return `<span class="incorrect">${guess[i]}</span>`;
      } else {
        return guess[i];
      }
    });
    output = outputArr.join(" ");
    guesslist += `<span>${guess}</span> <span class="correct">${num1}C</span> <span class="incorrect">${num2}I</span><br>`;
    guesses--;
  }

  // display the game
  document.getElementById("guesses").innerHTML = guesses;
  document.getElementById("output").innerHTML = output;
  document.getElementById("guesslist").innerHTML = guesslist;

  // check if the game is over
  if (guesses == 0) {
    output = `You are out of turns. The correct word is <span class="correct">${word}</span>`;
    document.getElementById("output").innerHTML = output;
    document.getElementById("guess").disabled = true;
  }
}
    </script>
  </body>
</html>
